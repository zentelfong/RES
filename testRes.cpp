// CAES.cpp : 定义控制台应用程序的入口点。
//

#include "stdafx.h"
#include <Windows.h>
#include "res.h"


static unsigned char AES_enc_test[] =
{
	0xA0, 0x43, 0x77, 0xAB, 0xE2, 0x59, 0xB0, 0xD0,
	0xB5, 0xBA, 0x2D, 0x40, 0xA5, 0x01, 0x97, 0x1B ,
	0x4E, 0x46, 0xF8, 0xC5, 0x09, 0x2B, 0x29, 0xE2,
	0x9A, 0x97, 0x1A, 0x0C, 0xD1, 0xF6, 0x10, 0xFB ,
	0x1F, 0x67, 0x63, 0xDF, 0x80, 0x7A, 0x7E, 0x70,
	0x96, 0x0D, 0x4C, 0xD3, 0x11, 0x8E, 0x60, 0x1A
};

int _tmain(int argc, _TCHAR* argv[])
{
	srand(GetTickCount());
	uint8_t buf[128];
	uint8_t outBuf[128];
	ZeroMemory(buf,sizeof(buf));
	ZeroMemory(outBuf,sizeof(outBuf));


	int len=ResEncrypt(AES_enc_test,sizeof(AES_enc_test),buf);
	int outLen=ResDecrypt(buf,len,outBuf);

	if (memcmp(outBuf,AES_enc_test,sizeof(AES_enc_test))==0 && outLen==sizeof(AES_enc_test))
	{
		printf("ok");
	}

	getchar();
	return 0;
}

